[function test_newnpc]
serv.smsg "test_newnpc\n"

finduid(010000).newnpc(c_man)
ShouldBeSameString("lastnewchar is set",c_man,<lastnewchar.id>)
ShouldBeSameString("lastnewchar is uid",<lastnewchar>,<lastnewchar.uid>)
ShouldBeTrue("act is set",<finduid(010000).act>,<lastnewchar.id>)
lastnewchar.remove

serv.smsg "\n"