[function test_findcont]

serv.smsg "test_findcont\n"

ShouldBeSameString("rescount - empty",0,<finduid(010000).rescount>)

finduid(010000).newitem(i_dagger)
finduid(010000).equip(lastnew)

ShouldBeSameString("rescount",1,<finduid(010000).rescount>)
ShouldBeSameString("findcont - constant",i_dagger,<finduid(010000).findcont(0).id>)
ShouldBeSameString("findcont - expression",i_dagger,<finduid(010000).findcont(1-1).id>)
ShouldBeSameString("findcont - out of range","",<finduid(010000).findcont(1)>)

arg(localVar1,0)
ShouldBeSameString("findcont - local variable",i_dagger,<finduid(010000).findcont(arg(localVar1)).id>)

var(globalVar1,0)
ShouldBeSameString("findcont - global variable",i_dagger,<finduid(010000).findcont(arg(globalVar1)).id>)
ShouldBeSameString("findcont - function call",i_dagger,<finduid(010000).findcont(test_findcont_return(0)).id>)

lastnew.remove

serv.smsg "\n"

[function test_findcont_return]
return<args>
